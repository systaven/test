import{u as q,a5 as j,_ as w,a6 as H,k as u,b as l,w as o,I as G,X as E,ag as O,o as n,aa as k,l as c,e as f,d,t as i,p as y,F as b,n as V,c as _,D as x,E as F,aT as W,C as Q,x as A,m as X,j as P,g as T,H as S,V as v,f as p,ab as C,aU as Y,Y as J,T as M,aB as z,aq as K,ar as L,as as R,au as U,aF as Z,aG as I,aV as N,aW as $,i as ee,a8 as se,W as oe,B as te}from"./index-427e6df5.js";import{_ as le}from"./_plugin-vue_export-helper-c27b6911.js";const ae={name:"PersonaPage",setup(){const{t:e}=q(),{tm:s}=j("features/persona");return{t:e,tm:s}},data(){return{toolSelectValue:"0",personas:[],loading:!1,saving:!1,showPersonaDialog:!1,showViewDialog:!1,editingPersona:null,viewingPersona:null,expandedPanels:[],formValid:!1,personaForm:{persona_id:"",system_prompt:"",begin_dialogs:[],tools:[]},showMessage:!1,message:"",messageType:"success",personaIdRules:[e=>!!e||this.tm("validation.required"),e=>e&&e.length>=0||this.tm("validation.minLength",{min:2})],systemPromptRules:[e=>!!e||this.tm("validation.required"),e=>e&&e.length>=10||this.tm("validation.minLength",{min:10})],mcpServers:[],availableTools:[],loadingTools:!1,toolSearch:""}},computed:{filteredTools(){if(!this.toolSearch)return this.availableTools;const e=this.toolSearch.toLowerCase();return this.availableTools.filter(s=>s.name.toLowerCase().includes(e)||s.description&&s.description.toLowerCase().includes(e)||s.mcp_server_name&&s.mcp_server_name.toLowerCase().includes(e))}},watch:{toolSearch(){},toolSelectValue(e){e==="0"?this.personaForm.tools=null:e==="1"&&this.personaForm.tools===null&&(this.personaForm.tools=[])}},mounted(){this.loadPersonas(),this.loadMcpServers(),this.loadTools()},methods:{async loadPersonas(){var e,s;this.loading=!0;try{const m=await w.get("/api/persona/list");m.data.status==="ok"?this.personas=m.data.data:this.showError(m.data.message||this.tm("messages.loadError"))}catch(m){this.showError(((s=(e=m.response)==null?void 0:e.data)==null?void 0:s.message)||this.tm("messages.loadError"))}this.loading=!1},async loadMcpServers(){var e,s;try{const m=await w.get("/api/tools/mcp/servers");m.data.status==="ok"?this.mcpServers=m.data.data:this.showError(m.data.message||this.tm("messages.loadError"))}catch(m){this.showError(((s=(e=m.response)==null?void 0:e.data)==null?void 0:s.message)||this.tm("messages.loadError"))}},async loadTools(){var e,s;this.loadingTools=!0;try{const m=await w.get("/api/tools/list");m.data.status==="ok"?this.availableTools=m.data.data:this.showError(m.data.message||this.tm("messages.loadError"))}catch(m){this.showError(((s=(e=m.response)==null?void 0:e.data)==null?void 0:s.message)||this.tm("messages.loadError"))}this.loadingTools=!1},openCreateDialog(){this.editingPersona=null,this.personaForm={persona_id:"",system_prompt:"",begin_dialogs:[],tools:[]},this.toolSelectValue="0",this.expandedPanels=[],this.showPersonaDialog=!0},editPersona(e){this.editingPersona=e,this.personaForm={persona_id:e.persona_id,system_prompt:e.system_prompt,begin_dialogs:[...e.begin_dialogs||[]],tools:e.tools===null?null:[...e.tools||[]]},this.toolSelectValue=e.tools===null?"0":"1",this.expandedPanels=[],this.showPersonaDialog=!0},viewPersona(e){this.viewingPersona=e,this.showViewDialog=!0},closePersonaDialog(){this.showPersonaDialog=!1,this.editingPersona=null,this.personaForm={persona_id:"",system_prompt:"",begin_dialogs:[],tools:[]},this.toolSelectValue="1"},async savePersona(){var e,s;if(this.formValid){if(this.personaForm.begin_dialogs.length>0){for(let m=0;m<this.personaForm.begin_dialogs.length;m++)if(!this.personaForm.begin_dialogs[m]||this.personaForm.begin_dialogs[m].trim()===""){const a=m%2===0?this.tm("form.userMessage"):this.tm("form.assistantMessage");this.showError(this.tm("validation.dialogRequired",{type:a}));return}}this.saving=!0;try{const m=this.editingPersona?"/api/persona/update":"/api/persona/create",a=await w.post(m,this.personaForm);a.data.status==="ok"?(this.showSuccess(a.data.message||this.tm("messages.saveSuccess")),this.closePersonaDialog(),await this.loadPersonas()):this.showError(a.data.message||this.tm("messages.saveError"))}catch(m){this.showError(((s=(e=m.response)==null?void 0:e.data)==null?void 0:s.message)||this.tm("messages.saveError"))}this.saving=!1}},async deletePersona(e){var s,m;if(confirm(this.tm("messages.deleteConfirm",{id:e.persona_id})))try{const a=await w.post("/api/persona/delete",{persona_id:e.persona_id});a.data.status==="ok"?(this.showSuccess(a.data.message||this.tm("messages.deleteSuccess")),await this.loadPersonas()):this.showError(a.data.message||this.tm("messages.deleteError"))}catch(a){this.showError(((m=(s=a.response)==null?void 0:s.data)==null?void 0:m.message)||this.tm("messages.deleteError"))}},addDialogPair(){this.personaForm.begin_dialogs.push("",""),this.expandedPanels.includes("dialogs")||this.expandedPanels.push("dialogs")},removeDialog(e){e%2===0&&e+1<this.personaForm.begin_dialogs.length?this.personaForm.begin_dialogs.splice(e,2):e%2===1&&e-1>=0&&this.personaForm.begin_dialogs.splice(e-1,2)},toggleMcpServer(e){if(!e.tools||e.tools.length===0)return;if(this.personaForm.tools===null){this.personaForm.tools=this.availableTools.map(a=>a.name).filter(a=>!e.tools.includes(a)),this.toolSelectValue="1";return}Array.isArray(this.personaForm.tools)||(this.personaForm.tools=[],this.toolSelectValue="1");const s=e.tools;s.every(a=>this.personaForm.tools.includes(a))?this.personaForm.tools=this.personaForm.tools.filter(a=>!s.includes(a)):s.forEach(a=>{this.personaForm.tools.includes(a)||this.personaForm.tools.push(a)})},toggleTool(e){if(this.personaForm.tools===null)this.personaForm.tools=this.availableTools.map(s=>s.name).filter(s=>s!==e),this.toolSelectValue="1";else if(Array.isArray(this.personaForm.tools)){const s=this.personaForm.tools.indexOf(e);s!==-1?this.personaForm.tools.splice(s,1):this.personaForm.tools.push(e)}else this.personaForm.tools=[e],this.toolSelectValue="1"},toggleAllTools(){this.isAllToolsSelected()?this.personaForm.tools=[]:this.personaForm.tools=null},clearAllTools(){this.personaForm.tools=[]},isAllToolsSelected(){return this.personaForm.tools===null},isNoToolsSelected(){return Array.isArray(this.personaForm.tools)&&this.personaForm.tools.length===0},removeTool(e){if(this.personaForm.tools===null)this.personaForm.tools=this.availableTools.map(s=>s.name).filter(s=>s!==e),this.toolSelectValue="1";else if(Array.isArray(this.personaForm.tools)){const s=this.personaForm.tools.indexOf(e);s!==-1&&this.personaForm.tools.splice(s,1)}},truncateText(e,s){return e?e.length>s?e.substring(0,s)+"...":e:""},formatDate(e){return e?new Date(e).toLocaleString():""},showSuccess(e){this.message=e,this.messageType="success",this.showMessage=!0},showError(e){this.message=e,this.messageType="error",this.showMessage=!0},getDialogRules(e){const s=e%2===0?this.tm("form.userMessage"):this.tm("form.assistantMessage");return[m=>!!m||this.tm("validation.dialogRequired",{type:s}),m=>m&&m.trim().length>0||this.tm("validation.dialogRequired",{type:s})]},isToolSelected(e){return this.personaForm.tools===null?!0:Array.isArray(this.personaForm.tools)&&this.personaForm.tools.includes(e)},isServerSelected(e){return!e.tools||e.tools.length===0?!1:this.personaForm.tools===null?!0:Array.isArray(this.personaForm.tools)&&e.tools.every(s=>this.personaForm.tools.includes(s))}}},re={class:"persona-page"},ie={class:"text-h1 font-weight-bold mb-2"},ne={class:"text-subtitle-1 text-medium-emphasis mb-4"},me={class:"text-truncate ml-2"},de={class:"system-prompt-preview"},ce={key:0,class:"mt-3"},ue={class:"mt-3 text-caption text-medium-emphasis"},he={class:"text-h5 mb-2"},ge={class:"text-body-1 text-medium-emphasis mb-4"},pe={class:"mb-3"},_e={class:"text-body-2 text-medium-emphasis"},fe={key:0,class:"mt-3 ml-8"},ve={key:0,class:"mb-4"},ye={class:"text-subtitle-2 mb-2"},be={class:"d-flex flex-wrap ga-2"},Ve={key:1,class:"tools-selection"},we={key:2,class:"text-center pa-4"},xe={class:"text-body-2 text-medium-emphasis"},ke={key:3,class:"text-center pa-4"},Fe={class:"text-body-2 text-medium-emphasis"},Pe={key:4,class:"text-center pa-4"},Te={class:"text-body-2 text-medium-emphasis mt-2"},Se={class:"mt-4"},Ce={class:"text-subtitle-2 mb-2"},De={key:0,class:"text-success"},Ee={key:1},Ae={key:0,class:"d-flex flex-wrap ga-1",style:{"max-height":"100px","overflow-y":"auto"}},Me={key:1,class:"text-body-2 text-medium-emphasis"},ze={class:"mb-3"},Le={class:"text-body-2 text-medium-emphasis"},Re={class:"text-h5"},Ue={class:"mb-4"},Ie={class:"text-h6 mb-2"},Be={class:"system-prompt-content"},qe={key:0,class:"mb-4"},je={class:"text-h6 mb-2"},He={class:"dialog-content ml-2"},Ge={class:"mb-4"},Oe={class:"text-h6 mb-2"},We={key:0,class:"text-body-2 text-medium-emphasis"},Qe={key:1,class:"d-flex flex-wrap ga-1"},Xe={key:2,class:"text-body-2 text-medium-emphasis"},Ye={class:"text-caption text-medium-emphasis"},Je={key:0};function Ke(e,s,m,a,t,h){const B=H("v-chip-text");return n(),u("div",re,[l(G,{fluid:"",class:"pa-0"},{default:o(()=>[l(k,{class:"d-flex justify-space-between align-center px-4 py-3 pb-8"},{default:o(()=>[c("div",null,[c("h1",ie,[l(f,{color:"black",class:"me-2"},{default:o(()=>[d("mdi-heart")]),_:1}),d(i(a.t("core.navigation.persona")),1)]),c("p",ne,i(a.tm("page.description")),1)]),c("div",null,[l(y,{color:"primary",variant:"tonal","prepend-icon":"mdi-plus",onClick:h.openCreateDialog,rounded:"xl",size:"x-large"},{default:o(()=>[d(i(a.tm("buttons.create")),1)]),_:1},8,["onClick"])])]),_:1}),l(k,null,{default:o(()=>[(n(!0),u(b,null,V(t.personas,r=>(n(),_(C,{key:r.persona_id,cols:"12",md:"6",lg:"4",xl:"3"},{default:o(()=>[l(x,{class:"persona-card",rounded:"md",onClick:g=>h.viewPersona(r)},{default:o(()=>[l(F,{class:"d-flex justify-space-between align-center"},{default:o(()=>[c("div",me,i(r.persona_id),1),l(W,{"offset-y":""},{activator:o(({props:g})=>[l(y,Q({icon:"mdi-dots-vertical",variant:"text",size:"small"},g,{onClick:s[0]||(s[0]=A(()=>{},["stop"]))}),null,16)]),default:o(()=>[l(X,{density:"compact"},{default:o(()=>[l(P,{onClick:g=>h.editPersona(r)},{default:o(()=>[l(T,null,{default:o(()=>[l(f,{class:"mr-2",size:"small"},{default:o(()=>[d("mdi-pencil")]),_:1}),d(" "+i(a.tm("buttons.edit")),1)]),_:1})]),_:2},1032,["onClick"]),l(P,{onClick:g=>h.deletePersona(r),class:"text-error"},{default:o(()=>[l(T,null,{default:o(()=>[l(f,{class:"mr-2",size:"small"},{default:o(()=>[d("mdi-delete")]),_:1}),d(" "+i(a.tm("buttons.delete")),1)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024),l(S,null,{default:o(()=>[c("div",de,i(h.truncateText(r.system_prompt,100)),1),r.begin_dialogs&&r.begin_dialogs.length>0?(n(),u("div",ce,[l(v,{size:"small",color:"secondary",variant:"tonal","prepend-icon":"mdi-chat"},{default:o(()=>[d(i(a.tm("labels.presetDialogs",{count:r.begin_dialogs.length/2})),1)]),_:2},1024)])):p("",!0),c("div",ue,i(a.tm("labels.createdAt"))+": "+i(h.formatDate(r.created_at)),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128)),t.personas.length===0&&!t.loading?(n(),_(C,{key:0,cols:"12"},{default:o(()=>[l(x,{class:"text-center pa-8",elevation:"0"},{default:o(()=>[l(f,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:o(()=>[d("mdi-account-group")]),_:1}),c("h3",he,i(a.tm("empty.title")),1),c("p",ge,i(a.tm("empty.description")),1),l(y,{color:"primary",variant:"tonal","prepend-icon":"mdi-plus",onClick:h.openCreateDialog},{default:o(()=>[d(i(a.tm("buttons.createFirst")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})):p("",!0)]),_:1}),t.loading?(n(),_(k,{key:0},{default:o(()=>[(n(),u(b,null,V(6,r=>l(C,{key:r,cols:"12",md:"6",lg:"4",xl:"3"},{default:o(()=>[l(Y,{type:"card",rounded:"lg"})]),_:2},1024)),64))]),_:1})):p("",!0)]),_:1}),l(E,{modelValue:t.showPersonaDialog,"onUpdate:modelValue":s[7]||(s[7]=r=>t.showPersonaDialog=r),"max-width":"800px",persistent:""},{default:o(()=>[l(x,null,{default:o(()=>[l(F,{class:"text-h2"},{default:o(()=>[d(i(t.editingPersona?a.tm("dialog.edit.title"):a.tm("dialog.create.title")),1)]),_:1}),l(S,null,{default:o(()=>[l(J,{ref:"personaForm",modelValue:t.formValid,"onUpdate:modelValue":s[6]||(s[6]=r=>t.formValid=r)},{default:o(()=>[l(M,{modelValue:t.personaForm.persona_id,"onUpdate:modelValue":s[1]||(s[1]=r=>t.personaForm.persona_id=r),label:a.tm("form.personaId"),rules:t.personaIdRules,disabled:t.editingPersona,variant:"outlined",density:"comfortable",class:"mb-4"},null,8,["modelValue","label","rules","disabled"]),l(z,{modelValue:t.personaForm.system_prompt,"onUpdate:modelValue":s[2]||(s[2]=r=>t.personaForm.system_prompt=r),label:a.tm("form.systemPrompt"),rules:t.systemPromptRules,variant:"outlined",rows:"6",class:"mb-4"},null,8,["modelValue","label","rules"]),l(K,{modelValue:t.expandedPanels,"onUpdate:modelValue":s[5]||(s[5]=r=>t.expandedPanels=r),multiple:""},{default:o(()=>[l(L,{value:"tools"},{default:o(()=>[l(R,null,{default:o(()=>[l(f,{class:"mr-2"},{default:o(()=>[d("mdi-tools")]),_:1}),d(" "+i(a.tm("form.tools"))+" ",1),Array.isArray(t.personaForm.tools)&&t.personaForm.tools.length>0?(n(),_(v,{key:0,size:"small",color:"primary",variant:"tonal",class:"ml-2"},{default:o(()=>[d(i(t.personaForm.tools.length),1)]),_:1})):p("",!0)]),_:1}),l(U,null,{default:o(()=>[c("div",pe,[c("p",_e,i(a.tm("form.toolsHelp")),1)]),l(Z,{class:"mt-2",modelValue:t.toolSelectValue,"onUpdate:modelValue":s[3]||(s[3]=r=>t.toolSelectValue=r),"hide-details":"true"},{default:o(()=>[l(I,{label:"默认使用全部函数工具",value:"0"}),l(I,{label:"选择指定函数工具",value:"1"})]),_:1},8,["modelValue"]),t.toolSelectValue==="1"?(n(),u("div",fe,[l(M,{modelValue:t.toolSearch,"onUpdate:modelValue":s[4]||(s[4]=r=>t.toolSearch=r),label:a.tm("form.searchTools"),"prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"compact","hide-details":"",clearable:"",class:"mb-3"},null,8,["modelValue","label"]),t.mcpServers.length>0?(n(),u("div",ve,[c("h4",ye,i(a.tm("form.mcpServersQuickSelect")),1),c("div",be,[(n(!0),u(b,null,V(t.mcpServers,r=>(n(),_(v,{key:r.name,color:h.isServerSelected(r)?"primary":"default",variant:h.isServerSelected(r)?"flat":"outlined",size:"small",clickable:"",onClick:g=>h.toggleMcpServer(r),disabled:!r.tools||r.tools.length===0},{default:o(()=>[l(f,{start:"",size:"small"},{default:o(()=>[d("mdi-server")]),_:1}),d(" "+i(r.name)+" ",1),r.tools?(n(),_(B,{key:0,class:"ml-1"},{default:o(()=>[d(" ("+i(r.tools.length)+") ",1)]),_:2},1024)):p("",!0)]),_:2},1032,["color","variant","onClick","disabled"]))),128))])])):p("",!0),h.filteredTools.length>0?(n(),u("div",Ve,[l(N,{items:h.filteredTools,height:"300","item-height":"48"},{default:o(({item:r})=>[(n(),_(P,{key:r.name,density:"comfortable",onClick:g=>h.toggleTool(r.name)},{prepend:o(()=>[l($,{"model-value":h.isToolSelected(r.name),onClick:A(g=>h.toggleTool(r.name),["stop"])},null,8,["model-value","onClick"])]),default:o(()=>[l(T,null,{default:o(()=>[d(i(r.name)+" ",1),r.mcp_server_name?(n(),_(v,{key:0,size:"x-small",color:"secondary",variant:"tonal",class:"ml-2"},{default:o(()=>[d(i(r.mcp_server_name),1)]),_:2},1024)):p("",!0)]),_:2},1024),r.description?(n(),_(ee,{key:0},{default:o(()=>[d(i(h.truncateText(r.description,100)),1)]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]))]),_:1},8,["items"])])):!t.loadingTools&&t.availableTools.length===0?(n(),u("div",we,[l(f,{size:"48",color:"grey-lighten-2",class:"mb-2"},{default:o(()=>[d("mdi-tools")]),_:1}),c("p",xe,i(a.tm("form.noToolsAvailable")),1)])):!t.loadingTools&&h.filteredTools.length===0?(n(),u("div",ke,[l(f,{size:"48",color:"grey-lighten-2",class:"mb-2"},{default:o(()=>[d("mdi-magnify")]),_:1}),c("p",Fe,i(a.tm("form.noToolsFound")),1)])):p("",!0),t.loadingTools?(n(),u("div",Pe,[l(se,{indeterminate:"",color:"primary"}),c("p",Te,i(a.tm("form.loadingTools")),1)])):p("",!0),c("div",Se,[c("h4",Ce,[d(i(a.tm("form.selectedTools"))+" ",1),t.personaForm.tools===null?(n(),u("span",De," ("+i(a.tm("form.allSelected"))+") ",1)):Array.isArray(t.personaForm.tools)?(n(),u("span",Ee," ("+i(t.personaForm.tools.length)+") ",1)):p("",!0)]),Array.isArray(t.personaForm.tools)&&t.personaForm.tools.length>0?(n(),u("div",Ae,[(n(!0),u(b,null,V(t.personaForm.tools,r=>(n(),_(v,{key:r,size:"small",color:"primary",variant:"tonal",closable:"","onClick:close":g=>h.removeTool(r)},{default:o(()=>[d(i(r),1)]),_:2},1032,["onClick:close"]))),128))])):(n(),u("div",Me,i(a.tm("form.noToolsSelected")),1))])])):p("",!0)]),_:1})]),_:1}),l(L,{value:"dialogs"},{default:o(()=>[l(R,null,{default:o(()=>[l(f,{class:"mr-2"},{default:o(()=>[d("mdi-chat")]),_:1}),d(" "+i(a.tm("form.presetDialogs"))+" ",1),t.personaForm.begin_dialogs.length>0?(n(),_(v,{key:0,size:"small",color:"primary",variant:"tonal",class:"ml-2"},{default:o(()=>[d(i(t.personaForm.begin_dialogs.length/2),1)]),_:1})):p("",!0)]),_:1}),l(U,null,{default:o(()=>[c("div",ze,[c("p",Le,i(a.tm("form.presetDialogsHelp")),1)]),(n(!0),u(b,null,V(t.personaForm.begin_dialogs,(r,g)=>(n(),u("div",{key:g,class:"mb-3"},[l(z,{modelValue:t.personaForm.begin_dialogs[g],"onUpdate:modelValue":D=>t.personaForm.begin_dialogs[g]=D,label:g%2===0?a.tm("form.userMessage"):a.tm("form.assistantMessage"),rules:h.getDialogRules(g),variant:"outlined",rows:"2",density:"comfortable"},{append:o(()=>[l(y,{icon:"mdi-delete",variant:"text",size:"small",color:"error",onClick:D=>h.removeDialog(g)},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","label","rules"])]))),128)),l(y,{variant:"outlined","prepend-icon":"mdi-plus",onClick:h.addDialogPair,block:""},{default:o(()=>[d(i(a.tm("buttons.addDialogPair")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),l(oe,null,{default:o(()=>[l(te),l(y,{color:"grey",variant:"text",onClick:h.closePersonaDialog},{default:o(()=>[d(i(a.tm("buttons.cancel")),1)]),_:1},8,["onClick"]),l(y,{color:"primary",variant:"flat",onClick:h.savePersona,loading:t.saving,disabled:!t.formValid},{default:o(()=>[d(i(a.tm("buttons.save")),1)]),_:1},8,["onClick","loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(E,{modelValue:t.showViewDialog,"onUpdate:modelValue":s[9]||(s[9]=r=>t.showViewDialog=r),"max-width":"700px"},{default:o(()=>[t.viewingPersona?(n(),_(x,{key:0},{default:o(()=>[l(F,{class:"d-flex justify-space-between align-center"},{default:o(()=>[c("span",Re,i(t.viewingPersona.persona_id),1),l(y,{icon:"mdi-close",variant:"text",onClick:s[8]||(s[8]=r=>t.showViewDialog=!1)})]),_:1}),l(S,null,{default:o(()=>[c("div",Ue,[c("h4",Ie,i(a.tm("form.systemPrompt")),1),c("pre",Be,"                            "+i(t.viewingPersona.system_prompt)+`
                        `,1)]),t.viewingPersona.begin_dialogs&&t.viewingPersona.begin_dialogs.length>0?(n(),u("div",qe,[c("h4",je,i(a.tm("form.presetDialogs")),1),(n(!0),u(b,null,V(t.viewingPersona.begin_dialogs,(r,g)=>(n(),u("div",{key:g,class:"mb-2"},[l(v,{color:g%2===0?"primary":"secondary",variant:"tonal",size:"small",class:"mb-1"},{default:o(()=>[d(i(g%2===0?a.tm("form.userMessage"):a.tm("form.assistantMessage")),1)]),_:2},1032,["color"]),c("div",He,i(r),1)]))),128))])):p("",!0),c("div",Ge,[c("h4",Oe,i(a.tm("form.tools")),1),t.viewingPersona.tools===null?(n(),u("div",We,[l(v,{size:"small",color:"success",variant:"tonal","prepend-icon":"mdi-check-all"},{default:o(()=>[d(i(a.tm("form.allToolsAvailable")),1)]),_:1})])):t.viewingPersona.tools&&t.viewingPersona.tools.length>0?(n(),u("div",Qe,[(n(!0),u(b,null,V(t.viewingPersona.tools,r=>(n(),_(v,{key:r,size:"small",color:"primary",variant:"tonal"},{default:o(()=>[d(i(r),1)]),_:2},1024))),128))])):(n(),u("div",Xe,i(a.tm("form.noToolsSelected")),1))]),c("div",Ye,[c("div",null,i(a.tm("labels.createdAt"))+": "+i(h.formatDate(t.viewingPersona.created_at)),1),t.viewingPersona.updated_at?(n(),u("div",Je,i(a.tm("labels.updatedAt"))+": "+i(h.formatDate(t.viewingPersona.updated_at)),1)):p("",!0)])]),_:1})]),_:1})):p("",!0)]),_:1},8,["modelValue"]),l(O,{timeout:3e3,elevation:"24",color:t.messageType,modelValue:t.showMessage,"onUpdate:modelValue":s[10]||(s[10]=r=>t.showMessage=r),location:"top"},{default:o(()=>[d(i(t.message),1)]),_:1},8,["color","modelValue"])])}const $e=le(ae,[["render",Ke],["__scopeId","data-v-391773df"]]);export{$e as default};
