import{u as se,r as g,z as ie,ae as A,o as a,k as i,l as S,F as z,n as B,c as y,w as e,d as t,t as _,V as G,f as w,b as l,p,D as F,E as R,H as U,m as Z,j as O,e as b,g as E,T as L,aJ as le,h as ne,W as Y,B as q,X as H,aw as M,ax as W,aa as de,ab as ae,aj as ce,a7 as re,L as oe,i as J,U as te,_ as Q,aK as me}from"./index-427e6df5.js";import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";const ve=o=>(M("data-v-c5f2f261"),o=o(),W(),o),fe={class:"d-flex align-center justify-space-between"},ye={key:0,style:{color:"rgb(var(--v-theme-primaryText))"}},pe={key:1,class:"d-flex flex-wrap ga-2"},_e={key:0,class:"d-flex"},ge={key:1,class:"d-flex"},Ve={key:1,class:"text-center py-8"},he=ve(()=>S("p",{class:"text-grey mt-4"},"暂无项目",-1)),ke={class:"d-flex align-center ga-2"},xe={__name:"ListConfigItem",props:{modelValue:{type:Array,default:()=>[]},label:{type:String,default:""},buttonText:{type:String,default:"修改"},dialogTitle:{type:String,default:"修改列表项"},maxDisplayItems:{type:Number,default:1}},emits:["update:modelValue"],setup(o,{emit:P}){const V=o,{t:h}=se(),n=g(!1),d=g([]),c=g([]),m=g(""),k=g(-1),C=g(""),D=ie(()=>V.modelValue.slice(0,V.maxDisplayItems));A(()=>V.modelValue,I=>{d.value=[...I||[]]},{immediate:!0});function j(){d.value=[...V.modelValue||[]],c.value=[...V.modelValue||[]],n.value=!0,k.value=-1,C.value="",m.value=""}function v(){m.value.trim()!==""&&(d.value.push(m.value.trim()),m.value="")}function $(I){d.value.splice(I,1)}function r(I,x){k.value=I,C.value=x}function T(){C.value.trim()!==""&&(d.value[k.value]=C.value.trim(),s())}function s(){k.value=-1,C.value=""}function f(){P("update:modelValue",[...d.value]),n.value=!1}function u(){d.value=[...c.value],k.value=-1,C.value="",m.value="",n.value=!1}return(I,x)=>(a(),i(z,null,[S("div",fe,[S("div",null,[!o.modelValue||o.modelValue.length===0?(a(),i("span",ye," 暂无项目 ")):(a(),i("div",pe,[(a(!0),i(z,null,B(D.value,K=>(a(),y(G,{key:K,size:"x-small",label:"",color:"primary"},{default:e(()=>[t(_(K.length>20?K.slice(0,20)+"...":K),1)]),_:2},1024))),128)),o.modelValue.length>o.maxDisplayItems?(a(),y(G,{key:0,size:"x-small",label:"",color:"grey-lighten-1"},{default:e(()=>[t(" +"+_(o.modelValue.length-o.maxDisplayItems),1)]),_:1})):w("",!0)]))]),l(p,{size:"small",color:"primary",variant:"tonal",onClick:j},{default:e(()=>[t(_(o.buttonText),1)]),_:1})]),l(H,{modelValue:n.value,"onUpdate:modelValue":x[2]||(x[2]=K=>n.value=K),"max-width":"600px"},{default:e(()=>[l(F,null,{default:e(()=>[l(R,{class:"text-h3 py-4",style:{"font-weight":"normal"}},{default:e(()=>[t(_(o.dialogTitle),1)]),_:1}),l(U,{class:"pa-0",style:{"max-height":"400px","overflow-y":"auto"}},{default:e(()=>[d.value.length>0?(a(),y(Z,{key:0,density:"compact"},{default:e(()=>[(a(!0),i(z,null,B(d.value,(K,N)=>(a(),y(O,{key:N,rounded:"md",class:"ma-1"},{append:e(()=>[k.value!==N?(a(),i("div",_e,[l(p,{onClick:ee=>r(N,K),variant:"plain",icon:"",size:"small"},{default:e(()=>[l(b,null,{default:e(()=>[t("mdi-pencil")]),_:1})]),_:2},1032,["onClick"]),l(p,{onClick:ee=>$(N),variant:"plain",icon:"",size:"small"},{default:e(()=>[l(b,null,{default:e(()=>[t("mdi-close")]),_:1})]),_:2},1032,["onClick"])])):(a(),i("div",ge,[l(p,{onClick:T,variant:"plain",color:"success",icon:"",size:"small"},{default:e(()=>[l(b,null,{default:e(()=>[t("mdi-check")]),_:1})]),_:1}),l(p,{onClick:s,variant:"plain",color:"error",icon:"",size:"small"},{default:e(()=>[l(b,null,{default:e(()=>[t("mdi-close")]),_:1})]),_:1})]))]),default:e(()=>[k.value!==N?(a(),y(E,{key:0},{default:e(()=>[t(_(K),1)]),_:2},1024)):(a(),y(L,{key:1,modelValue:C.value,"onUpdate:modelValue":x[0]||(x[0]=ee=>C.value=ee),"hide-details":"",variant:"outlined",density:"compact",onKeyup:[le(T,["enter"]),le(s,["esc"])],autofocus:""},null,8,["modelValue","onKeyup"]))]),_:2},1024))),128))]),_:1})):(a(),i("div",Ve,[l(b,{size:"64",color:"grey-lighten-1"},{default:e(()=>[t("mdi-format-list-bulleted")]),_:1}),he]))]),_:1}),l(U,{class:"pa-4"},{default:e(()=>[S("div",ke,[l(L,{modelValue:m.value,"onUpdate:modelValue":x[1]||(x[1]=K=>m.value=K),label:ne(h)("core.common.list.addItemPlaceholder"),onKeyup:le(v,["enter"]),clearable:"","hide-details":"",variant:"outlined",density:"compact",class:"flex-grow-1"},null,8,["modelValue","label","onKeyup"]),l(p,{onClick:v,variant:"tonal",color:"primary"},{default:e(()=>[l(b,null,{default:e(()=>[t("mdi-plus")]),_:1}),t(" "+_(ne(h)("core.common.list.addButton")),1)]),_:1})])]),_:1}),l(Y,{class:"pa-4"},{default:e(()=>[l(q),l(p,{variant:"text",onClick:u},{default:e(()=>[t("取消")]),_:1}),l(p,{color:"primary",onClick:f},{default:e(()=>[t("确认")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},sl=X(xe,[["__scopeId","data-v-c5f2f261"]]);const be=o=>(M("data-v-7986fc87"),o=o(),W(),o),we={class:"d-flex align-center justify-space-between"},Ce={key:0,style:{color:"rgb(var(--v-theme-primaryText))"}},Se={key:1,class:"d-flex flex-wrap ga-2"},$e={key:0},Ie={key:1,class:"text-center py-8"},Te=be(()=>S("p",{class:"text-grey mt-4"},"暂无参数",-1)),Ke={class:"d-flex align-center ga-2"},ze={__name:"ObjectEditor",props:{modelValue:{type:Object,required:!0},buttonText:{type:String,default:"修改"},dialogTitle:{type:String,default:"修改键值对"},maxDisplayItems:{type:Number,default:1}},emits:["update:modelValue"],setup(o,{emit:P}){const V=o;se();const h=g(!1),n=g([]),d=g([]),c=g(""),m=g("string"),k=ie(()=>Object.keys(V.modelValue).slice(0,V.maxDisplayItems));A(()=>V.modelValue,s=>{},{immediate:!0});function C(){n.value=[];for(const[s,f]of Object.entries(V.modelValue))n.value.push({key:s,value:f,type:typeof f})}function D(){C(),d.value=JSON.parse(JSON.stringify(n.value)),c.value="",m.value="string",h.value=!0}function j(){const s=c.value.trim();if(s!==""){if(n.value.some(I=>I.key===s)){alert("键名已存在");return}let u;switch(m.value){case"number":u=0;break;case"boolean":u=!1;break;default:u="";break}n.value.push({key:s,value:u,type:m.value}),c.value=""}}function v(s){n.value.splice(s,1)}function $(s,f){const u=n.value[s].key;if(u===f)return;if(n.value.some((x,K)=>K!==s&&x.key===f)){alert("键名已存在"),n.value[s].key=u;return}n.value[s].key=f}function r(){const s={};for(const f of n.value){let u=f.value;switch(f.type){case"number":u=Number(f.value);break;case"boolean":break;case"string":default:u=String(f.value);break}s[f.key]=u}P("update:modelValue",s),h.value=!1}function T(){n.value=JSON.parse(JSON.stringify(d.value)),h.value=!1}return(s,f)=>(a(),i(z,null,[S("div",we,[S("div",null,[!o.modelValue||Object.keys(o.modelValue).length===0?(a(),i("span",Ce," 暂无项目 ")):(a(),i("div",Se,[(a(!0),i(z,null,B(k.value,u=>(a(),y(G,{key:u,size:"x-small",label:"",color:"primary"},{default:e(()=>[t(_(u.length>20?u.slice(0,20)+"...":u),1)]),_:2},1024))),128)),Object.keys(o.modelValue).length>o.maxDisplayItems?(a(),y(G,{key:0,size:"x-small",label:"",color:"grey-lighten-1"},{default:e(()=>[t(" +"+_(Object.keys(o.modelValue).length-o.maxDisplayItems),1)]),_:1})):w("",!0)]))]),l(p,{size:"small",color:"primary",variant:"tonal",onClick:D},{default:e(()=>[t(_(o.buttonText),1)]),_:1})]),l(H,{modelValue:h.value,"onUpdate:modelValue":f[2]||(f[2]=u=>h.value=u),"max-width":"600px"},{default:e(()=>[l(F,null,{default:e(()=>[l(R,{class:"text-h3 py-4",style:{"font-weight":"normal"}},{default:e(()=>[t(_(o.dialogTitle),1)]),_:1}),l(U,{class:"pa-4",style:{"max-height":"400px","overflow-y":"auto"}},{default:e(()=>[n.value.length>0?(a(),i("div",$e,[(a(!0),i(z,null,B(n.value,(u,I)=>(a(),i("div",{key:I,class:"key-value-pair"},[l(de,{"no-gutters":"",align:"center",class:"mb-2"},{default:e(()=>[l(ae,{cols:"4"},{default:e(()=>[l(L,{modelValue:u.key,"onUpdate:modelValue":x=>u.key=x,density:"compact",variant:"outlined","hide-details":"",placeholder:"键名",onBlur:x=>$(I,u.key)},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),_:2},1024),l(ae,{cols:"7",class:"pl-2 d-flex align-center justify-end"},{default:e(()=>[u.type==="string"?(a(),y(L,{key:0,modelValue:u.value,"onUpdate:modelValue":x=>u.value=x,density:"compact",variant:"outlined","hide-details":"",placeholder:"字符串值"},null,8,["modelValue","onUpdate:modelValue"])):u.type==="number"?(a(),y(L,{key:1,modelValue:u.value,"onUpdate:modelValue":x=>u.value=x,modelModifiers:{number:!0},type:"number",density:"compact",variant:"outlined","hide-details":"",placeholder:"数值"},null,8,["modelValue","onUpdate:modelValue"])):u.type==="boolean"?(a(),y(ce,{key:2,modelValue:u.value,"onUpdate:modelValue":x=>u.value=x,density:"compact","hide-details":"",color:"primary"},null,8,["modelValue","onUpdate:modelValue"])):w("",!0)]),_:2},1024),l(ae,{cols:"1",class:"pl-2"},{default:e(()=>[l(p,{icon:"",variant:"text",size:"small",color:"error",onClick:x=>v(I)},{default:e(()=>[l(b,null,{default:e(()=>[t("mdi-delete")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])):(a(),i("div",Ie,[l(b,{size:"64",color:"grey-lighten-1"},{default:e(()=>[t("mdi-code-json")]),_:1}),Te]))]),_:1}),l(U,{class:"pa-4"},{default:e(()=>[S("div",Ke,[l(L,{modelValue:c.value,"onUpdate:modelValue":f[0]||(f[0]=u=>c.value=u),label:"新键名",density:"compact",variant:"outlined","hide-details":"",class:"flex-grow-1"},null,8,["modelValue"]),l(re,{modelValue:m.value,"onUpdate:modelValue":f[1]||(f[1]=u=>m.value=u),items:["string","number","boolean"],label:"值类型",density:"compact",variant:"outlined","hide-details":"",style:{"max-width":"120px"}},null,8,["modelValue"]),l(p,{onClick:j,variant:"tonal",color:"primary"},{default:e(()=>[l(b,null,{default:e(()=>[t("mdi-plus")]),_:1}),t(" 添加 ")]),_:1})])]),_:1}),l(Y,{class:"pa-4"},{default:e(()=>[l(q),l(p,{variant:"text",onClick:T},{default:e(()=>[t("取消")]),_:1}),l(p,{color:"primary",onClick:r},{default:e(()=>[t("确认")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},il=X(ze,[["__scopeId","data-v-7986fc87"]]);const Pe=o=>(M("data-v-9f100c2b"),o=o(),W(),o),De={class:"d-flex align-center justify-space-between"},je={key:0,style:{color:"rgb(var(--v-theme-primaryText))"}},Be={key:1},Ue={key:0},Le={key:2,class:"text-center py-8"},Oe=Pe(()=>S("p",{class:"text-grey mt-4"},"暂无可用的提供商",-1)),Ee={__name:"ProviderSelector",props:{modelValue:{type:String,default:""},providerType:{type:String,default:"chat_completion"},buttonText:{type:String,default:"选择提供商..."}},emits:["update:modelValue"],setup(o,{emit:P}){const V=o,h=g(!1),n=g([]),d=g(!1),c=g("");A(()=>V.modelValue,v=>{c.value=v||""},{immediate:!0});async function m(){c.value=V.modelValue||"",h.value=!0,await k()}async function k(){d.value=!0;try{const v=await Q.get("/api/config/provider/list",{params:{provider_type:V.providerType}});v.data.status==="ok"&&(n.value=v.data.data||[])}catch(v){console.error("加载提供商列表失败:",v),n.value=[]}finally{d.value=!1}}function C(v){c.value=v.id}function D(){P("update:modelValue",c.value),h.value=!1}function j(){c.value=V.modelValue||"",h.value=!1}return(v,$)=>(a(),i(z,null,[S("div",De,[o.modelValue?(a(),i("span",Be,_(o.modelValue),1)):(a(),i("span",je," 未选择 ")),l(p,{size:"small",color:"primary",variant:"tonal",onClick:m},{default:e(()=>[t(_(o.buttonText),1)]),_:1})]),l(H,{modelValue:h.value,"onUpdate:modelValue":$[1]||($[1]=r=>h.value=r),"max-width":"600px"},{default:e(()=>[l(F,null,{default:e(()=>[l(R,{class:"text-h3 py-4",style:{"font-weight":"normal"}},{default:e(()=>[t(" 选择提供商 ")]),_:1}),l(U,{class:"pa-0",style:{"max-height":"400px","overflow-y":"auto"}},{default:e(()=>[d.value?(a(),y(oe,{key:0,indeterminate:"",color:"primary"})):w("",!0),!d.value&&n.value.length>0?(a(),y(Z,{key:1,density:"compact"},{default:e(()=>[l(O,{key:"none",value:"",onClick:$[0]||($[0]=r=>C({id:""})),active:c.value==="",rounded:"md",class:"ma-1"},{append:e(()=>[c.value===""?(a(),y(b,{key:0,color:"primary"},{default:e(()=>[t("mdi-check-circle")]),_:1})):w("",!0)]),default:e(()=>[l(E,null,{default:e(()=>[t("不选择")]),_:1}),l(J,null,{default:e(()=>[t("清除当前选择")]),_:1})]),_:1},8,["active"]),l(te,{class:"ma-1"}),(a(!0),i(z,null,B(n.value,r=>(a(),y(O,{key:r.id,value:r.id,onClick:T=>C(r),active:c.value===r.id,rounded:"md",class:"ma-1"},{append:e(()=>[c.value===r.id?(a(),y(b,{key:0,color:"primary"},{default:e(()=>[t("mdi-check-circle")]),_:1})):w("",!0)]),default:e(()=>[l(E,null,{default:e(()=>[t(_(r.id),1)]),_:2},1024),l(J,null,{default:e(()=>{var T;return[t(_(r.type||r.provider_type||"未知类型")+" ",1),(T=r.model_config)!=null&&T.model?(a(),i("span",Ue,"- "+_(r.model_config.model),1)):w("",!0)]}),_:2},1024)]),_:2},1032,["value","onClick","active"]))),128))]),_:1})):!d.value&&n.value.length===0?(a(),i("div",Le,[l(b,{size:"64",color:"grey-lighten-1"},{default:e(()=>[t("mdi-api-off")]),_:1}),Oe])):w("",!0)]),_:1}),l(te),l(Y,{class:"pa-4"},{default:e(()=>[l(q),l(p,{variant:"text",onClick:j},{default:e(()=>[t("取消")]),_:1}),l(p,{color:"primary",onClick:D},{default:e(()=>[t(" 确认选择 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},dl=X(Ee,[["__scopeId","data-v-9f100c2b"]]);const Ne=o=>(M("data-v-bd9bc9eb"),o=o(),W(),o),Je={class:"d-flex align-center justify-space-between"},Ae={key:0,style:{color:"rgb(var(--v-theme-primaryText))"}},Fe={key:1},Re={key:2,class:"text-center py-8"},Ye=Ne(()=>S("p",{class:"text-grey mt-4"},"暂无可用的人格",-1)),qe={__name:"PersonaSelector",props:{modelValue:{type:String,default:""},buttonText:{type:String,default:"选择人格..."}},emits:["update:modelValue"],setup(o,{emit:P}){const V=o,h=g(!1),n=g([]),d=g(!1),c=g("");A(()=>V.modelValue,v=>{c.value=v||""},{immediate:!0});async function m(){c.value=V.modelValue||"",h.value=!0,await k()}async function k(){d.value=!0;try{const v=await Q.get("/api/persona/list");if(v.data.status==="ok"){const $=v.data.data||[];n.value=[{persona_id:"default",system_prompt:"You are a helpful and friendly assistant."},...$]}}catch(v){console.error("加载人格列表失败:",v),n.value=[{persona_id:"default",system_prompt:"You are a helpful and friendly assistant."}]}finally{d.value=!1}}function C(v){c.value=v.persona_id}function D(){P("update:modelValue",c.value),h.value=!1}function j(){c.value=V.modelValue||"",h.value=!1}return(v,$)=>(a(),i(z,null,[S("div",Je,[o.modelValue?(a(),i("span",Fe,_(o.modelValue==="default"?"默认人格":o.modelValue),1)):(a(),i("span",Ae," 未选择 ")),l(p,{size:"small",color:"primary",variant:"tonal",onClick:m},{default:e(()=>[t(_(o.buttonText),1)]),_:1})]),l(H,{modelValue:h.value,"onUpdate:modelValue":$[0]||($[0]=r=>h.value=r),"max-width":"600px"},{default:e(()=>[l(F,null,{default:e(()=>[l(R,{class:"text-h3 py-4",style:{"font-weight":"normal"}},{default:e(()=>[t(" 选择人格 ")]),_:1}),l(U,{class:"pa-0",style:{"max-height":"400px","overflow-y":"auto"}},{default:e(()=>[d.value?(a(),y(oe,{key:0,indeterminate:"",color:"primary"})):w("",!0),!d.value&&n.value.length>0?(a(),y(Z,{key:1,density:"compact"},{default:e(()=>[(a(!0),i(z,null,B(n.value,r=>(a(),y(O,{key:r.persona_id,value:r.persona_id,onClick:T=>C(r),active:c.value===r.persona_id,rounded:"md",class:"ma-1"},{append:e(()=>[c.value===r.persona_id?(a(),y(b,{key:0,color:"primary"},{default:e(()=>[t("mdi-check-circle")]),_:1})):w("",!0)]),default:e(()=>[l(E,null,{default:e(()=>[t(_(r.persona_id==="default"?"默认人格":r.persona_id),1)]),_:2},1024),l(J,null,{default:e(()=>[t(_(r.system_prompt?r.system_prompt.substring(0,50)+"...":"无描述"),1)]),_:2},1024)]),_:2},1032,["value","onClick","active"]))),128))]),_:1})):!d.value&&n.value.length===0?(a(),i("div",Re,[l(b,{size:"64",color:"grey-lighten-1"},{default:e(()=>[t("mdi-account-off")]),_:1}),Ye])):w("",!0)]),_:1}),l(Y,{class:"pa-4"},{default:e(()=>[l(q),l(p,{variant:"text",onClick:j},{default:e(()=>[t("取消")]),_:1}),l(p,{color:"primary",onClick:D,disabled:!c.value},{default:e(()=>[t(" 确认选择 ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},cl=X(qe,[["__scopeId","data-v-bd9bc9eb"]]);const ue=o=>(M("data-v-095776ca"),o=o(),W(),o),He={class:"d-flex align-center justify-space-between"},Me={key:0,style:{color:"rgb(var(--v-theme-primaryText))"}},We={key:1},Xe={key:1,class:"text-center py-8"},Ge=ue(()=>S("p",{class:"text-grey mt-4 mb-4"},"知识库插件未安装",-1)),Qe={class:"emoji-icon"},Ze={key:0},el={key:1,class:"text-center py-4"},ll=ue(()=>S("p",{class:"text-grey mb-4"},"暂无知识库",-1)),al={key:3,class:"text-center py-8"},tl=ue(()=>S("p",{class:"text-grey mt-4 mb-4"},"暂无知识库",-1)),ol={__name:"KnowledgeBaseSelector",props:{modelValue:{type:String,default:""},buttonText:{type:String,default:"选择知识库..."}},emits:["update:modelValue"],setup(o,{emit:P}){const V=o,h=me(),n=g(!1),d=g([]),c=g(!1),m=g(""),k=g(!1);A(()=>V.modelValue,s=>{m.value=s||""},{immediate:!0});async function C(){m.value=V.modelValue||"",n.value=!0,await D()}async function D(){c.value=!0;try{const s=await Q.get("/api/plugin/get?name=astrbot_plugin_knowledge_base");s.data.status==="ok"&&s.data.data.length>0?(k.value=!0,await j()):(k.value=!1,d.value=[])}catch(s){console.error("检查知识库插件失败:",s),k.value=!1,d.value=[]}finally{c.value=!1}}async function j(){try{const s=await Q.get("/api/plug/alkaid/kb/collections");s.data.status==="ok"?d.value=s.data.data||[]:d.value=[]}catch(s){console.error("加载知识库列表失败:",s),d.value=[]}}function v(s){m.value=s.collection_name}function $(){P("update:modelValue",m.value),n.value=!1}function r(){m.value=V.modelValue||"",n.value=!1}function T(){n.value=!1,h.push("/alkaid/knowledge-base")}return(s,f)=>(a(),i(z,null,[S("div",He,[o.modelValue?(a(),i("span",We,_(o.modelValue),1)):(a(),i("span",Me," 未选择 ")),l(p,{size:"small",color:"primary",variant:"tonal",onClick:C},{default:e(()=>[t(_(o.buttonText),1)]),_:1})]),l(H,{modelValue:n.value,"onUpdate:modelValue":f[1]||(f[1]=u=>n.value=u),"max-width":"600px"},{default:e(()=>[l(F,null,{default:e(()=>[l(R,{class:"text-h3 py-4",style:{"font-weight":"normal"}},{default:e(()=>[t(" 选择知识库 ")]),_:1}),l(U,{class:"pa-0",style:{"max-height":"400px","overflow-y":"auto"}},{default:e(()=>[c.value?(a(),y(oe,{key:0,indeterminate:"",color:"primary"})):w("",!0),!c.value&&!k.value?(a(),i("div",Xe,[l(b,{size:"64",color:"grey-lighten-1"},{default:e(()=>[t("mdi-puzzle-outline")]),_:1}),Ge,l(p,{color:"primary",variant:"tonal",onClick:T},{default:e(()=>[t(" 前往知识库页面 ")]),_:1})])):!c.value&&k.value?(a(),y(Z,{key:2,density:"compact"},{default:e(()=>[l(O,{value:"",onClick:f[0]||(f[0]=u=>v({collection_name:""})),active:m.value==="",rounded:"md",class:"ma-1"},{prepend:e(()=>[l(b,{color:"grey-lighten-1"},{default:e(()=>[t("mdi-close-circle-outline")]),_:1})]),append:e(()=>[m.value===""?(a(),y(b,{key:0,color:"primary"},{default:e(()=>[t("mdi-check-circle")]),_:1})):w("",!0)]),default:e(()=>[l(E,null,{default:e(()=>[t("不使用")]),_:1}),l(J,null,{default:e(()=>[t("不使用任何知识库")]),_:1})]),_:1},8,["active"]),d.value.length>0?(a(),y(te,{key:0,class:"my-2"})):w("",!0),(a(!0),i(z,null,B(d.value,u=>(a(),y(O,{key:u.collection_name,value:u.collection_name,onClick:I=>v(u),active:m.value===u.collection_name,rounded:"md",class:"ma-1"},{prepend:e(()=>[S("span",Qe,_(u.emoji||"🙂"),1)]),append:e(()=>[m.value===u.collection_name?(a(),y(b,{key:0,color:"primary"},{default:e(()=>[t("mdi-check-circle")]),_:1})):w("",!0)]),default:e(()=>[l(E,null,{default:e(()=>[t(_(u.collection_name),1)]),_:2},1024),l(J,null,{default:e(()=>[t(_(u.description||"无描述")+" ",1),u.count!==void 0?(a(),i("span",Ze," - "+_(u.count)+" 项知识",1)):w("",!0)]),_:2},1024)]),_:2},1032,["value","onClick","active"]))),128)),d.value.length===0?(a(),i("div",el,[ll,l(p,{color:"primary",variant:"tonal",size:"small",onClick:T},{default:e(()=>[t(" 创建知识库 ")]),_:1})])):w("",!0)]),_:1})):!c.value&&!k.value&&d.value.length===0?(a(),i("div",al,[l(b,{size:"64",color:"grey-lighten-1"},{default:e(()=>[t("mdi-database-off")]),_:1}),tl,l(p,{color:"primary",variant:"tonal",onClick:T},{default:e(()=>[t(" 创建知识库 ")]),_:1})])):w("",!0)]),_:1}),l(Y,{class:"pa-4"},{default:e(()=>[l(q),l(p,{variant:"text",onClick:r},{default:e(()=>[t("取消")]),_:1}),l(p,{color:"primary",onClick:$,disabled:m.value===null||m.value===void 0},{default:e(()=>[t(" 确认选择 ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},rl=X(ol,[["__scopeId","data-v-095776ca"]]);export{rl as K,sl as L,il as O,dl as P,cl as a};
